<!DOCTYPE html>

{% include 'header.html' %}

<div class="container-fluid">
<div class="bodySystemsPopover">
<button class="btn btn-warning" data-toggle="popover"><span class="glyphicon glyphicon-chevron-right"
style="font-size: 1.5em;"></span>
</button>
</div>

<ol class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/bfilters">Body Systems</a></li>
  <li class="active">Details</li>
</ol>

<br/>
<!-- <button id="bckbutton" name="bckbutton" class="btn btn-primary btn-xs"
style="float:left;" onclick="history.go(-1);return false;">Back</button> -->
<div class="row" id="appTitle">
<h2><strong>Interface for Medical Care Transitions</strong></h2>
</div>
<div class="col-md-6">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Patient Admission Information</h3>
    </div>
    <div class="panel-body" style="position:relative">
      <div class="panel panel-default">
        <div class="panel-body text-center">
    <div class="row">
    <div class="col-lg-2">
    <img class="pdtlsImage" src="{{ppath1}}" alt="patient image"/>
    </div>
    <div class="col-lg-8">
    <div class="row">
    <div class="pdtlsText col-lg-3"><span class="text-primary">Name:</span> {{pname1}}</div>
          <div class="pdtlsText col-lg-3"><span class="text-primary">Age:</span> 35</div>
          <div class="pdtlsText col-lg-3"><span class="text-primary">Gender:</span> Male</div>
          <div class="pdtlsText col-lg-3"><span class="text-primary">Code Status:</span> WF</div>
    </div>
    <br/>
    <div class="row">
      <div class="pdtlsText col-lg-6"><span class="text-primary">Illness Severity:</span> Watcher</div>
      <div class="pdtlsText col-lg-6"><span class="text-primary">Allergies:</span> Peanuts, Seafood</div>
    </div>
    </div>
    <div class="col-lg-2">
        <div><span class="text-primary">MICU Day#:</span> 1</div>
      <div><span class="text-primary">Vent Day #:</span> 2</div>
      <div><span class="text-primary">Line Day #:</span> 3</div>
    </div>
    </div>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-body text-justified">
          <div class="col-lg-12"><p class="text-primary">Patient Summary</p>
          <p>
            64 year old male admitted for respiratory failure.
          </p>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        <a data-toggle="collapse" href="#problemList">Problem list</a>

    </h3>
    </div>
  <div id="problemList" class="panel-collapse in">
    <div class="panel-body">
      <p>
        <ul>
          <li>Respiratory failure</li>
          <li>Acute kidney injury</li>
        </ul>
      </p>
    </div>
  </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
      <a data-toggle="collapse" href="#vitalsList">Vitals</a>
      </h3>
    </div>
    <div id="vitalsList" class="in panel-collapse">
    <div class="panel-body">
  <div class="row">
  <div class="col-lg-12">

  <div id="chkVitals">
    <form method="post">
        <fieldset>
                <legend>Filter vitals</legend>

        <div class="row">
        <div class="col-lg-1">
                        <label><input type="checkbox" name="vitals" value="pain" class="filterChkBox" checked="checked" />&nbsp;Pain</label> </div>
            <div class="col-lg-2">
                        <label><input type="checkbox" name="vitals" value="bp" class="filterChkBox" checked="checked"/>&nbsp;Blood Pressure</label></div>
            <div class="col-lg-2">
                        <label><input type="checkbox" name="vitals" value="temp" class="filterChkBox" checked="checked"/>&nbsp;Temperature</label></div>
            <div class="col-lg-2">
            <label><input type="checkbox" name="vitals" value="rr" class="filterChkBox" checked="checked"/>&nbsp;Respiration rate</label></div>
            <div class="col-lg-1">
            <label><input type="checkbox" name="vitals" value="pulse" class="filterChkBox" checked="checked"/>&nbsp;Pulse</label></div>
            <div class="col-lg-2">
            <label><input type="checkbox" name="vitals" value="pulseOx" class="filterChkBox" checked="checked"/>&nbsp;Pulse Oximetry</label></div>

            <!--<div class="col-lg-2">
                        <button type="submit" class="btn btn-primary btn-sm">&nbsp;Show</button></div>-->

          </div>
        </fieldset>
  </form>
  To view detailed information, place the pointer in respective position.
  </div>
      </div>
    <br/>
    </div>
    <br/>
    <div class="row">
    <div id="PSchart">
    PAIN
    </div>
    <div id="BPchart">Blood Pressure
    <div id="bpchart"> </div></div>
    <div id="TempChart">
    <div id="tempchart">
      Temperature
    </div>
    </div>
    <div id="RespChart">
    <div id="respchart">
      Respiration Rate
    </div>
    </div>

    <div id="PulseChart" >
    <div id="pulsechart">
      Pulse
    </div>
    </div>
    <div id="PulseOxChart">
    <div id="poxchart">
      Pulse Oximetry
    </div>
    </div>
  </div>
  </div>
  </div>
  </div>

  <hr/>
  <div id="body-systems-wrapper">
    <h2>Body Systems:</h2>

  {% if '1' in body_system %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#neurologicAccordian">Neurologic</a>
        </h3>
      </div>
      <div id="neurologicAccordian" class="panel-collapse in">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                  <ul>
                    <li>Psych: Sedated</li>
                    <li>Neuro: Alert-Awake</li>
                    <li>Pupils: Reactive</li>
                  </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Lorazepam</li>
                    <li>Fentanyl</li>
                    <li>Propofol</li>
                  </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                 <div style="color:blue">
                  {% if plan_results1.get('neurologic')!= None %}
                  {% for item in plan_results1.get('neurologic') %}
                  &#x2022; {{item}}<br/>
                  {% endfor %}
                  {% endif %}
                </div>
                </p>
                <textarea rows="10" cols="14" class="neurologicplan" placeholder="Enter plan here"></textarea>
                <input type="hidden" class="patientNumber" value="1" />
                <button class="btn btn-primary btn-xs neurologicUpdate">Update</button>
                <span style='color:green' class='hide'><strong>Updated!</strong></span>
              </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    {% if '2' in body_system %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#cardiovascularAccordian">Cardiovascular</a>
          </h3>
      </div>
      <div id="cardiovascularAccordian" class="panel-collapse in">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Rhythm: Regular</li>
                    <li>Rate: Normal</li>
                    <li>Murmurs: Yes</li>
                  </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Aminodarone 200mg</li>
                    <li>ASA 325mg</li>
                    <li>Lasix 20mg 9/20</li>
                    <li>Metoprolol 12.5mg 9/2h</li>
                </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                <div style="color:blue">
                  {% if plan_results1.get('cardiovascular')!= None %}
                  {% for item in plan_results1.get('cardiovascular') %}
                  &#x2022; {{item}}<br/>
                  {% endfor %}
                  {% endif %}
                </div>
                </p>
                <textarea rows="10" cols="14" class="cardiovascularplan" placeholder="Enter plan here"></textarea>
                <input type="hidden" class="patientNumber" value="1" />
                <button class="btn btn-primary btn-xs cardiovascularUpdate">Update</button>
                <span style='color:green' class='hide'><strong>Updated!</strong></span>
              </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    {% if '3' in body_system %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#pulmonaryAccordian">Pulmonary</a>
        </h3>
      </div>
      <div id="pulmonaryAccordian" class="panel-collapse in">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>COPD Exacerbation</li>
                    <li>Hypercapnic Respiratory Failure</li>
                </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Ipratropium 9th</li>
                    <li>Levalbuterol 9th</li>
                </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                <div style="color:blue">
                  {% if plan_results1.get('pulmonary')!= None %}
                  {% for item in plan_results1.get('pulmonary') %}
                  &#x2022; {{item}}<br/>
                  {% endfor %}
                  {% endif %}
                </div>
                </p>
                <textarea rows="10" cols="14" class="pulmonaryplan" placeholder="Enter plan here"></textarea>
                <input type="hidden" class="patientNumber" value="1" />
                <button class="btn btn-primary btn-xs pulmonaryUpdate">Update</button>
                <span style='color:green' class='hide'><strong>Updated!</strong></span>
              </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
  <div class="text-center">
    <form method="POST" action="/createsummary" onsubmit="return showConfirm();">
      <input type="hidden" name="patient_id" value="0" />
      <input type="submit" class='btn btn-primary' value="Create Summary"></input>
    </form>
  </div>
  </div>
  <div class="col-md-6">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Patient Admission Information</h3>
    </div>
    <div class="panel-body" style="position:relative">
      <div class="panel panel-default">
        <div class="panel-body text-center">
    <div class="row">
    <div class="col-lg-2">
    <img class="pdtlsImage" src="{{ppath2}}" alt="patient image"/>
    </div>
    <div class="col-lg-8">
    <div class="row">
    <div class="pdtlsText col-lg-3"><span class="text-primary">Name:</span> {{pname2}}</div>
          <div class="pdtlsText col-lg-3"><span class="text-primary">Age:</span> 35</div>
          <div class="pdtlsText col-lg-3"><span class="text-primary">Gender:</span> Male</div>
          <div class="pdtlsText col-lg-3"><span class="text-primary">Code Status:</span> WF</div>
    </div>
    <br/>
    <div class="row">
      <div class="pdtlsText col-lg-6"><span class="text-primary">Illness Severity:</span> Watcher</div>
      <div class="pdtlsText col-lg-6"><span class="text-primary">Allergies:</span> Peanuts, Seafood</div>
    </div>
    </div>
    <div class="col-lg-2">
        <div><span class="text-primary">MICU Day#:</span> 1</div>
      <div><span class="text-primary">Vent Day #:</span> 2</div>
      <div><span class="text-primary">Line Day #:</span> 3</div>
    </div>
    </div>
        <!--  <div class="row">
          <div class="col-lg-2"><span class="text-primary">Name:</span> John Doe</div>
          <div class="col-lg-2"><span class="text-primary">Age:</span> 35</div>
          <div class="col-lg-2"><span class="text-primary">Gender:</span> Male</div>
          <div class="col-lg-2"><span class="text-primary">Code Status:</span> WF</div>
      <div class="col-lg-4"><span class="text-primary">Code Status:</span> WF</div>
          </div> -->
        </div>
      </div>

     <!-- <div class="panel panel-default">
        <div class="panel-body text-center">
          <div><span class="text-primary">MICU Day#:</span> 1</div>
          <div><span class="text-primary">Vent Day #:</span> 2</div>
          <div><span class="text-primary">Line Day #:</span> 3</div>
        </div>
      </div>-->

      <!-- <div class="panel panel-default">
        <div class="panel-body text-center">
          <div class="row">
          <div class="col-lg-6"><span class="text-primary">Illness Severity:</span> Watcher</div>
          <div class="col-lg-6"><span class="text-primary">Allergies:</span> Peanuts, Seafood</div>
          </div>
        </div>
      </div> -->


      <div class="panel panel-default">
        <div class="panel-body text-justified">
          <div class="col-lg-12"><p class="text-primary">Patient Summary</p>
          <p>
            64 year old male admitted for respiratory failure.
          </p>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        <a data-toggle="collapse" href="#problemList2">Problem list</a>

    </h3>
    </div>
  <div id="problemList2" class="panel-collapse in">
    <div class="panel-body">
      <p>
        <ul>
          <li>Respiratory failure</li>
          <li>Acute kidney injury</li>
        </ul>
      </p>
    </div>
  </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">

         <a data-toggle="collapse" href="#vitalsList2">Vitals</a>
      </h3>
    </div>
<div id="vitalsList2" class="panel-collapse in">
    <div class="panel-body">
  <div class="row">
  <div class="col-lg-12">

  <!--<div id="chkVitals">
    <form method="post">
        <fieldset>
                <legend>Filter vitals</legend>
        <div class="row">
        <div class="col-lg-1">
                        <input type="checkbox" name="vitals" value="pain" />&nbsp;Pain </div>
            <div class="col-lg-2">
                        <input type="checkbox" name="vitals" value="bp" />&nbsp;Blood Pressure</div>
            <div class="col-lg-2">
                        <input type="checkbox" name="vitals" value="temp" />&nbsp;Temperature</div>
            <div class="col-lg-2">
            <input type="checkbox" name="vitals" value="rr" />&nbsp;Respiration rate</div>
            <div class="col-lg-1">
            <input type="checkbox" name="vitals" value="pulse" />&nbsp;Pulse</div>
            <div class="col-lg-2">
            <input type="checkbox" name="vitals" value="pulseOx" />&nbsp;Pulse Oximetry</div>
            <div class="col-lg-2">
                        <button type="submit" class="btn btn-primary btn-sm">&nbsp;Show</button></div>
            </div>
        </fieldset>
  </form>
  To view detailed information, place the pointer in respective position.
  </div> -->
   <div id="chkVitals2">
    <form method="post">
        <fieldset>
                <legend>Filter vitals</legend>
        <div class="row">

        <div class="col-lg-1">
                        <label><input type="checkbox" name="vitals" value="pain2" class="filterChkBox2" checked="checked" />&nbsp;Pain</label> </div>
            <div class="col-lg-2">
                        <label><input type="checkbox" name="vitals" value="bp2" class="filterChkBox2" checked="checked"/>&nbsp;Blood Pressure</label></div>
            <div class="col-lg-2">
                        <label><input type="checkbox" name="vitals" value="temp2" class="filterChkBox2" checked="checked"/>&nbsp;Temperature</label></div>
            <div class="col-lg-2">
            <label><input type="checkbox" name="vitals" value="rr2" class="filterChkBox2" checked="checked"/>&nbsp;Respiration rate</label></div>
            <div class="col-lg-1">
            <label><input type="checkbox" name="vitals" value="pulse2" class="filterChkBox2" checked="checked"/>&nbsp;Pulse</label></div>
            <div class="col-lg-2">
            <label><input type="checkbox" name="vitals" value="pulseOx2" class="filterChkBox2" checked="checked"/>&nbsp;Pulse Oximetry</label></div>

            <!--<div class="col-lg-2">
                        <button type="submit" class="btn btn-primary btn-sm">&nbsp;Show</button></div>
            </div>-->
        </fieldset>
  </form>
  To view detailed information, place the pointer in respective position.
  </div>
      </div>
    <br/>
    </div>
    <br/>

    <div class="row">
    <div id="PSchart2">
    PAIN
    </div>
    <div id="BPchart2">
    Blood Pressure
    <div id="bpchart2"> </div></div>
    <div id="TempChart2">
    <div id="tempchart2">
      Temperature
    </div>
    </div>
    <div id="RespChart2">
    <div id="respchart2">
      Respiration Rate
    </div>
    </div>

    <div id="PulseChart2" >
    <div id="pulsechart2">
      Pulse
    </div>
    </div>
    <div id="PulseOxChart2">
    <div id="poxchart2">
      Pulse Oximetry
    </div>
    </div>
  </div>

  </div>
</div>
  </div>

  <hr/>
  <div id="body-systems-wrapper">
    <h2>Body Systems:</h2>

  {% if '1' in body_system %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#neurologicAccordian2">Neurologic</a>
        </h3>
      </div>
      <div id="neurologicAccordian2" class="panel-collapse in">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                  <ul>
                    <li>Psych: Sedated</li>
                    <li>Neuro: Alert-Awake</li>
                    <li>Pupils: Reactive</li>
                  </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Lorazepam</li>
                    <li>Fentanyl</li>
                    <li>Propofol</li>
                  </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                <div style="color:blue">
                  {% if plan_results2.get('neurologic')!= None %}
                  {% for item in plan_results2.get('neurologic') %}
                  &#x2022; {{item}}<br/>
                  {% endfor %}
                  {% endif %}
                </div>
                </p>
                 <textarea rows="10" cols="14" class="neurologicplan" placeholder="Enter plan here"></textarea>
                <input type="hidden" class="patientNumber" value="2" />
                <button class="btn btn-primary btn-xs neurologicUpdate">Update</button>
                <span style='color:green' class='hide'><strong>Updated!</strong></span>
              </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    {% if '2' in body_system %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#cardiovascularAccordian2">Cardiovascular</a>
          </h3>
      </div>
      <div id="cardiovascularAccordian2" class=" panel-collapse in">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Rhythm: Regular</li>
                    <li>Rate: Normal</li>
                    <li>Murmurs: Yes</li>
                  </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Aminodarone 200mg</li>
                    <li>ASA 325mg</li>
                    <li>Lasix 20mg 9/15</li>
                    <li>Metoprolol 12.5mg 9/2h</li>
                </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                  <div style="color:blue">
                  {% if plan_results2.get('cardiovascular')!= None %}
                  {% for item in plan_results2.get('cardiovascular') %}
                  &#x2022; {{item}}<br/>
                  {% endfor %}
                  {% endif %}
                </div>
                </p>

                <textarea rows="10" cols="14" class="cardiovascularplan" placeholder="Enter plan here"></textarea>
                <input type="hidden" class="patientNumber" value="2" />
                <button class="btn btn-primary btn-xs cardiovascularUpdate">Update</button>
                <span style='color:green' class='hide'><strong>Updated!</strong></span>
          </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    {% if '3' in body_system %}
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#pulmonaryAccordian2">Pulmonary</a>
        </h3>
      </div>
      <div id="pulmonaryAccordian2" class="in panel-collapse">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>COPD Exacerbation</li>
                    <li>Hypercapnic Respiratory Failure</li>
                </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                <ul>
                    <li>Ipratropium 9th</li>
                    <li>Levalbuterol 9th</li>
                </ul>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                <div style="color:blue">
                  {% if plan_results2.get('pulmonary')!= None %}
                  {% for item in plan_results2.get('pulmonary') %}
                  &#x2022; {{item}}<br/>
                  {% endfor %}
                  {% endif %}
                </div>
                </p>
                <textarea rows="10" cols="14" class="pulmonaryplan" placeholder="Enter plan here"></textarea>
                <input type="hidden" class="patientNumber" value="2" />
                <button class="btn btn-primary btn-xs pulmonaryUpdate">Update</button>
                <span style='color:green' class='hide'><strong>Updated!</strong></span>
              </div>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">
          <a data-toggle="collapse" href="#endocrineAccordian">Endocrine</a>
        </h3>
      </div>
      <div id="endocrineAccordian" class="panel panel-collapse collapse">
        <div class="panel-body row text-center">
          <div class="col-lg-3">
              <p class=""><strong>Physical Exam</strong></p>
              <div class="text-justify">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. In hendrerit faucibus diam, porttitor tempus orci aliquet ut. Praesent dignissim ante quam, eget fermentum urna feugiat vel. In semper rutrum ligula sit amet tincidunt. Fusce sed felis ligula. Proin tincidunt leo mauris, in tincidunt sem consectetur et. Nullam purus risus, vestibulum sed lacinia quis, eleifend sit amet sem. Integer vulputate hendrerit elementum.
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Medication</strong></p>
              <div class="text-justify">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. In hendrerit faucibus diam, porttitor tempus orci aliquet ut. Praesent dignissim ante quam, eget fermentum urna feugiat vel. In semper rutrum ligula sit amet tincidunt. Fusce sed felis ligula. Proin tincidunt leo mauris, in tincidunt sem consectetur et. Nullam purus risus, vestibulum sed lacinia quis, eleifend sit amet sem. Integer vulputate hendrerit elementum.
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Problems</strong></p>
              <div class="text-justify">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. In hendrerit faucibus diam, porttitor tempus orci aliquet ut. Praesent dignissim ante quam, eget fermentum urna feugiat vel. In semper rutrum ligula sit amet tincidunt. Fusce sed felis ligula. Proin tincidunt leo mauris, in tincidunt sem consectetur et. Nullam purus risus, vestibulum sed lacinia quis, eleifend sit amet sem. Integer vulputate hendrerit elementum.
                </p>
              </div>
          </div>
          <div class="col-lg-3">
              <p class=""><strong>Resident Plan</strong></p>
              <div class="text-justify">
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. In hendrerit faucibus diam, porttitor tempus orci aliquet ut. Praesent dignissim ante quam, eget fermentum urna feugiat vel. In semper rutrum ligula sit amet tincidunt. Fusce sed felis ligula. Proin tincidunt leo mauris, in tincidunt sem consectetur et. Nullam purus risus, vestibulum sed lacinia quis, eleifend sit amet sem. Integer vulputate hendrerit elementum.
                </p>
              </div>
          </div>
        </div>
      </div>
    </div> -->

  </div>
  <div class="text-center">
    <form method="POST" action="/createsummary" onsubmit="return showConfirm();">
      <input type="hidden" name="patient_id" value="1" />
      <input type="submit" class='btn btn-primary' value="Create Summary"></input>
    </form>
  </div>
  </div>
</div> <!-- /container -->

<script src="/static/js/circularHeatChart.js"></script>
<script src="/static/js/legend.js"></script>
<script src="http://d3js.org/colorbrewer.v1.min.js"></script>
<script type="text/javascript">
  function showConfirm(){

    confirm ("Summary is created. Please check Summary Created time.");
    return true;
}
  </script>
<script>

/* Pain score with random data 1 */

var data = [];
for(var i=0; i<72; i++)
{
  if( i== 10)
    data[i] = {title: "Segment "+i, value: 5};
  else if (i == 20)
    data[i] = {title: "Segment "+i, value: 2};
  else
    data[i] = {title: "Segment "+i, value: Math.round(Math.random()*5)};
}

var tooltip = d3.select("#PSchart")
  .append("div")
  .style("position", "relative")
  .style("z-index", "10")
  .style("height","10px")
  .style("visibility", "hidden");


var chart = circularHeatChart()
    .innerRadius(20)
    .range(["#f1eef6", "#980043"])
    .radialLabels(["Day 1", "Day 2", "Day 3"])
    .segmentLabels(["Midnight", "1am", "2am", "3am", "4am", "5am", "6am", "7am", "8am", "9am", "10am",
    "11am", "Midday", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm", "11pm"]);

chart.accessor(function(d) {return d.value;})

d3.select('#PSchart')
    .selectAll('svg')
    .data([data])
    .enter()
    .append('svg')
    .call(chart);

d3.selectAll("#PSchart path")
  .on('mouseover', function() {
  d3.select(this)
    .style("stroke","white")
    .attr("stroke-width",3)
    this.parentNode.appendChild(this);

    var d = d3.select(this).data()[0];

  return tooltip.style("visibility", "visible")
          .text("Pain Score: "+d.value);
  })
  .on("mouseout", function(){
  d3.select(this)
    .style("stroke","none");
  return tooltip.style("visibility", "hidden");
  });

/* Pain score chart - End*/
/* $$$$$$$$$$$$$$$$$$$$$$ */
/* Pain score with random data 2 */

var data = [];
for(var i=0; i<72; i++)
{
  if( i== 10)
    data[i] = {title: "Segment "+i, value: 5};
  else if (i == 20)
    data[i] = {title: "Segment "+i, value: 2};
  else
    data[i] = {title: "Segment "+i, value: Math.round(Math.random()*5)};
}

var tooltip2 = d3.select("#PSchart2")
  .append("div")
  .style("position", "relative")
  .style("z-index", "10")
  .style("height","10px")
  .style("visibility", "hidden");


var chart = circularHeatChart()
    .innerRadius(20)
    .range(["#f1eef6", "#980043"])
    .radialLabels(["Day 1", "Day 2", "Day 3"])
    .segmentLabels(["Midnight", "1am", "2am", "3am", "4am", "5am", "6am", "7am", "8am", "9am", "10am",
    "11am", "Midday", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm", "11pm"]);

chart.accessor(function(d) {return d.value;})

d3.select('#PSchart2')
    .selectAll('svg')
    .data([data])
    .enter()
    .append('svg')
    .call(chart);

d3.selectAll("#PSchart2 path")
  .on('mouseover', function() {
  d3.select(this)
    .style("stroke","white")
    .attr("stroke-width",3)
    this.parentNode.appendChild(this);

    var d = d3.select(this).data()[0];

  return tooltip2.style("visibility", "visible")
          .text("Pain Score: "+d.value);
  })
  .on("mouseout", function(){
  d3.select(this)
    .style("stroke","none");
  return tooltip2.style("visibility", "hidden");
  });

/* Pain score chart 2- End*/

  /* Blood pressure chart */

// Set the dimensions of the canvas / graph
var margin = {top: 30, right: 20, bottom: 30, left: 50},
    width = 500 - margin.left - margin.right,
    height = 350 - margin.top - margin.bottom;

// Parse the date / time
var parseDate = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Parse time for tooltip
var formatTime = d3.time.format("%e %B %I:%M %p");

// Define color scale
var color = d3.scale.category10();


// Set the ranges
var x = d3.time.scale().range([0, width]);
var y = d3.scale.linear().range([height, 0]);


// Define the axes
var xAxis = d3.svg.axis().scale(x)
    .orient("bottom").ticks(5);

var yAxis = d3.svg.axis().scale(y)
    .orient("left").ticks(5);

// Define the line
var valueline = d3.svg.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.DiastolicBP); });

// Define second line
var valueline2 = d3.svg.line()
    .x(function(d) { return x(d.Time); })
    .y(function(d) { return y(d.SystolicBP); });

// Adds the svg canvas
var svg = d3.select("#bpchart")
    .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
    .append("g")
        .attr("transform",
              "translate(" + margin.left + "," + margin.top + ")");
//Clinician Alert function
//Clinician Alert function
var sbpFlag = 0;
var dbpFlag = 0;
d3.csv("../static/data/{{pname1}}/vitals/data.csv", function(error, data) {
    data.forEach(function(d){
          if( parseInt(d.DiastolicBP) < 30)
            dbpFlag = 1;

          if( parseInt(d.SystolicBP) > 120)
            sbpFlag = 1;
        });

});

// Get the data
d3.csv("../static/data/{{pname1}}/vitals/data.csv", function(error, data) {
    data.forEach(function(d) {
        d.Time = parseDate(d.Time);
        d.DiastolicBP = +d.DiastolicBP;
    d.SystolicBP = +d.SystolicBP;

    });

    // Scale the range of the data
    x.domain([d3.time.hour.offset(d3.min(data, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(data, function(d) { return d.Time; }), +1)]);
    y.domain([0, d3.max(data, function(d) { return Math.max(d.DiastolicBP, d.SystolicBP); })+70]);


    // Add the valueline path.
    svg.append("path")
        .attr("class", "line")
    .style("stroke", "rgb(255,121,14)")
    .style("stroke-width",1)
    .style("fill","none")
    .attr("d", valueline(data))
    .attr("data-legend","DiastolicBP");

  // Add the valueline2 path
    svg.append("path")
        .attr("class", "line")
    .style("stroke", "rgb(31,119,180)")
    .style("stroke-width",1)
    .style("fill","none")
    .attr("d", valueline2(data))
    .attr("data-legend","SystolicBP");

  //Add tooltip
  var bptooltip = d3.select("#bpchart").append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);

    // Add the scatterplot for DiastolicBP
    svg.selectAll("dot")
        .data(data)
      .enter().append("circle")
        .attr("r", 3)
        .attr("cx", function(d) { return x(d.Time); })
        .attr("cy", function(d) { return y(d.DiastolicBP); })
    .style("fill", "rgb(255,121,14)")
    .on("mouseover", function(d) {
    var xPos = x(d.Time);
    var yPos = y(d.DiastolicBP);
            bptooltip.transition()
                .duration(200)
                .style("opacity", .9);
            bptooltip.html(formatTime(d.Time) + "<br/>"+ "DIASTOLIC BP: "+d.DiastolicBP)
                .style("left", xPos + "px")
                .style("top", yPos-370 + "px");
            })
    .on("mouseout", function(d) {
            bptooltip.transition()
                .duration(3000)
                .style("opacity", 0);

        });


    // Add the scatterplot for SystolicBP
    svg.selectAll("dot")
        .data(data)
      .enter().append("circle")
        .attr("r", 3)
        .attr("cx", function(d) { return x(d.Time); })
        .attr("cy", function(d) { return y(d.SystolicBP); })
    .style("fill", "rgb(31,119,180)")
    .on("mouseover", function(d) {
    var xPos = x(d.Time);
    var yPos = y(d.SystolicBP);
            bptooltip.transition()
                .duration(200)
                .style("opacity", .9);
            bptooltip.html(formatTime(d.Time) + "<br/>"+ "SYSTOLIC BP: "+d.SystolicBP)
                .style("left", xPos + "px")
                .style("top", yPos-370 + "px");
            })
    .on("mouseout", function(d) {
      bptooltip.transition()
                .duration(500)
                .style("opacity", 0);

        });


    // Add the X Axis
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis)
    .append("text")
    .attr("class", "label")
    .attr("x", width)
    .attr("y", -6)
    .style("text-anchor", "end")
    .text("Time");

    // Add the Y Axis
    svg.append("g")
        .attr("class", "y axis")
        .call(yAxis)
    .append("text")
      .attr("class", "label")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("BP");
// Applying legend
var legendRectSize = 18;
var legendSpacing = 4;
var legendData = ["SYSTOLIC BP","DIASTOLIC BP"]
var legend = svg.selectAll('.legend')
        .data(legendData)
        .enter()
        .append('g')
        .attr('class', 'legend')
        .attr('transform', function(d, i) {
        var height = legendRectSize + legendSpacing;
        var offset =  height * 1;
        var horz = legendRectSize + 10;
        var vert = i * height - offset + 40;
        return 'translate(' + horz + ',' + vert + ')';
        });

    legend.append("circle")
    .attr("r", 5)
    .style("fill", color);

    legend.append('text')
    .attr('x', 15)
    .attr('y', 4)
    .text(function(d) { return d; });

});

/* Blood pressure chart - End*/

/*$$$$$$$$$$$$$$$$$$$$ */

  /* Blood pressure chart 2 */

// Set the dimensions of the canvas / graph
var marginb2 = {top: 30, right: 20, bottom: 30, left: 50},
    widthb2 = 500 - marginb2.left - marginb2.right,
    heightb2 = 350 - marginb2.top - marginb2.bottom;

// Parse the date / time
var parseDateb2 = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Parse time for tooltip
var formatTimeb2 = d3.time.format("%e %B %I:%M %p");

// Define color scale
var colorb2 = d3.scale.category10();


// Set the ranges
var xb2 = d3.time.scale().range([0, widthb2]);
var yb2 = d3.scale.linear().range([heightb2, 0]);


// Define the axes
var xAxisb2 = d3.svg.axis().scale(xb2)
    .orient("bottom").ticks(5);

var yAxisb2 = d3.svg.axis().scale(yb2)
    .orient("left").ticks(5);

// Define the line
var valuelineb2 = d3.svg.line()
    .x(function(d) { return xb2(d.Time); })
    .y(function(d) { return yb2(d.DiastolicBP); });

// Define second line
var valueline2b2 = d3.svg.line()
    .x(function(d) { return xb2(d.Time); })
    .y(function(d) { return yb2(d.SystolicBP); });

// Adds the svg canvas
var svgb2 = d3.select("#bpchart2")
    .append("svg")
        .attr("width", widthb2 + marginb2.left + marginb2.right)
        .attr("height", heightb2 + marginb2.top + marginb2.bottom)
    .append("g")
        .attr("transform",
              "translate(" + marginb2.left + "," + marginb2.top + ")");


//Clinician Alert function
var sbpFlag2 = 0;
var dbpFlag2 = 0;
d3.csv("../static/data/{{pname2}}/vitals/data.csv", function(error, data) {
data.forEach(function(d){
     if( parseInt(d.DiastolicBP) < 30)
        dbpFlag2 = 1;

      if( parseInt(d.SystolicBP) > 120)
        sbpFlag2 = 1;
    });

});

// Get the data
d3.csv("../static/data/{{pname2}}/vitals/data.csv", function(error, datab2) {
    datab2.forEach(function(d) {
        d.Time = parseDateb2(d.Time);
        d.DiastolicBP = +d.DiastolicBP;
    d.SystolicBP = +d.SystolicBP;

    });

    // Scale the range of the data
    xb2.domain([d3.time.hour.offset(d3.min(datab2, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(datab2, function(d) { return d.Time; }), +1)]);
    yb2.domain([0, d3.max(datab2, function(d) { return Math.max(d.DiastolicBP, d.SystolicBP); })+70]);


    // Add the valueline path.
    svgb2.append("path")
        .attr("class", "line")
    .style("stroke", "rgb(255,121,14)")
    .style("stroke-width",1)
    .style("fill","none")
    .attr("d", valuelineb2(datab2))
    .attr("data-legend","DiastolicBP");

  // Add the valueline2 path
    svgb2.append("path")
        .attr("class", "line")
    .style("stroke", "rgb(31,119,180)")
    .style("stroke-width",1)
    .style("fill","none")
    .attr("d", valueline2b2(datab2))
    .attr("data-legend","SystolicBP");

  //Add tooltip
  var bptooltipb2 = d3.select("#bpchart2").append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);

    // Add the scatterplot for DiastolicBP
    svgb2.selectAll("dot")
        .data(datab2)
      .enter().append("circle")
        .attr("r", 3)
        .attr("cx", function(d) { return xb2(d.Time); })
        .attr("cy", function(d) { return yb2(d.DiastolicBP); })
    .style("fill", "rgb(255,121,14)")
    .on("mouseover", function(d) {
    var xPosb2 = xb2(d.Time);
    var yPosb2 = yb2(d.DiastolicBP);
            bptooltipb2.transition()
                .duration(200)
                .style("opacity", .9);
            bptooltipb2.html(formatTimeb2(d.Time) + "<br/>"+ "DIASTOLIC BP: "+d.DiastolicBP)
                .style("left", xPosb2 + "px")
                .style("top", yPosb2-370 + "px");
            })
    .on("mouseout", function(d) {
            bptooltipb2.transition()
                .duration(3000)
                .style("opacity", 0);

        });


    // Add the scatterplot for SystolicBP
    svgb2.selectAll("dot")
        .data(datab2)
      .enter().append("circle")
        .attr("r", 3)
        .attr("cx", function(d) { return xb2(d.Time); })
        .attr("cy", function(d) { return yb2(d.SystolicBP); })
    .style("fill", "rgb(31,119,180)")
    .on("mouseover", function(d) {
    var xPosb2 = xb2(d.Time);
    var yPosb2 = yb2(d.SystolicBP);
            bptooltipb2.transition()
                .duration(200)
                .style("opacity", .9);
            bptooltipb2.html(formatTimeb2(d.Time) + "<br/>"+ "SYSTOLIC BP: "+d.SystolicBP)
                .style("left", xPosb2 + "px")
                .style("top", yPosb2-370 + "px");
            })
    .on("mouseout", function(d) {
      bptooltipb2.transition()
                .duration(500)
                .style("opacity", 0);

        });


    // Add the X Axis
    svgb2.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + heightb2 + ")")
        .call(xAxisb2)
    .append("text")
    .attr("class", "label")
    .attr("x", widthb2)
    .attr("y", -6)
    .style("text-anchor", "end")
    .text("Time");

    // Add the Y Axis
    svgb2.append("g")
        .attr("class", "y axis")
        .call(yAxisb2)
    .append("text")
      .attr("class", "label")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("BP");
// Applying legend
var legendRectSizeb2 = 18;
var legendSpacingb2 = 4;
var legendDatab2 = ["SYSTOLIC BP","DIASTOLIC BP"]
var legendb2 = svgb2.selectAll('.legend')
        .data(legendDatab2)
        .enter()
        .append('g')
        .attr('class', 'legend')
        .attr('transform', function(d, i) {
        var heightb2 = legendRectSizeb2 + legendSpacingb2;
        var offsetb2 =  heightb2 * 1;
        var horzb2 = legendRectSizeb2 + 10;
        var vertb2 = i * heightb2 - offsetb2 + 40;
        return 'translate(' + horzb2 + ',' + vertb2 + ')';
        });

    legendb2.append("circle")
    .attr("r", 5)
    .style("fill", color);

    legendb2.append('text')
    .attr('x', 15)
    .attr('y', 4)
    .text(function(d) { return d; });

});

/* Blood pressure chart - End*/

/* ############################ */
/* Temperature chart*/

// Set the dimensions of the canvas / graph
var marginT = {top: 30, right: 20, bottom: 30, left: 50},
    widthT = 500 - marginT.left - marginT.right,
    heightT = 350 - marginT.top - marginT.bottom;

// Parse the date / time
var parseDateT = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Parse time for tooltip
var formatTimeT = d3.time.format("%e %B %I:%M %p");

// Define color scale
var colorT = d3.scale.category10();


// Set the ranges
var xT = d3.time.scale().range([0, widthT]);
var yT = d3.scale.linear().range([heightT, 0]);


// Define the axes
var xAxisT = d3.svg.axis().scale(xT)
    .orient("bottom").ticks(5);

var yAxisT = d3.svg.axis().scale(yT)
    .orient("left").ticks(5);

// Define the line
var valuelineT = d3.svg.line()
    .x(function(d) { return xT(d.Time); })
    .y(function(d) { return yT(d.Temperature); });

// Adds the svg canvas
var svgT = d3.select("#tempchart")
    .append("svg")
        .attr("width", widthT + marginT.left + marginT.right)
        .attr("height", heightT + marginT.top + marginT.bottom)
    .append("g")
        .attr("transform",
              "translate(" + marginT.left + "," + marginT.top + ")");

//Clinician Alert function
var tempFlag = 0;
d3.csv("../static/data/{{pname1}}/vitals/temp.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.Temperature) > 40)
        tempFlag = 1;
      if( parseInt(d.Temperature) <= 30)
        tempFlag = 1;
    });

});


// Get the data
d3.csv("../static/data/{{pname1}}/vitals/temp.csv", function(error, dataT) {
    dataT.forEach(function(d) {
        d.Time = parseDateT(d.Time);
        d.Temperature = +d.Temperature;

    });

    // Scale the range of the data
    xT.domain([d3.time.hour.offset(d3.min(dataT, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataT, function(d) { return d.Time; }), +1)]);
    yT.domain([0, d3.max(dataT, function(d) { return d.Temperature; }) + 20]);

  //Add tooltip
  var tooltipT = d3.select("#tempchart").append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);


    // Add the valueline path.
   /* svgT.append("path")
        .attr("class", "lineT")
    .style("stroke", "#f9520c")
    .style("stroke-width",1)
    .style("fill","none")
    .attr("d", valuelineT(dataT));  */

    // Add the scatterplot for Temperature
    svgT.selectAll("rect_temp")
        .data(dataT)
      .enter().append("rect")
    .attr("x", function(d) { return xT(d.Time)-3.5; })
        .attr("y", function(d) { return yT(d.Temperature)-3.5; })
    .attr("height",7)
    .attr("width",7)
    .style("fill","#f9520c")
    .on("mouseover", function(d) {
    var xPosT = xT(d.Time);
    var yPosT = yT(d.Temperature);
            tooltipT.transition()
                .duration(200)
                .style("opacity", .9);
            tooltipT.html(formatTime(d.Time) + "<br/>"+ "Temperature: "+d.Temperature)
                .style("left", xPosT + "px")
                .style("top", yPosT-360 + "px");
            })
    .on("mouseout", function(d) {
      tooltipT.transition()
                .duration(500)
                .style("opacity", 0);

        });

  // Add the X Axis
    svgT.append("g")
        .attr("class", "x axis T")
        .attr("transform", "translate(0," + heightT + ")")
        .call(xAxisT)
    .append("text")
    .attr("class", "label")
    .attr("x", widthT)
    .attr("y", -6)
    .style("text-anchor", "end")
    .text("Time");

    // Add the Y Axis
    svgT.append("g")
        .attr("class", "y axis T")
        .call(yAxisT)
    .append("text")
      .attr("class", "label")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Temperature (C)");

// Applying legend
var legendRectSize = 18;
var legendSpacing = 4;
var legendData = ["Temperature"]
var legend = svgT.selectAll('.legend')
        .data(legendData)
        .enter()
        .append('g')
        .attr('class', 'legend')
        .attr('transform', function(d, i) {
        var height = legendRectSize + legendSpacing;
        var offset =  height * 1;
        var horz = legendRectSize + 10;
        var vert = i * height - offset + 40;
        return 'translate(' + horz + ',' + vert + ')';
        });

    legend.append("rect")
    .attr("height",7)
    .attr("width",7)
    .style("fill","#f9520c");

    legend.append('text')
    .attr('x', 15)
    .attr('y', 4)
    .text(function(d) { return d; });

});

/* Temperature chart end*/
/*#################################*/
/* Temperature chart 2 */

// Set the dimensions of the canvas / graph
var marginT2 = {top: 30, right: 20, bottom: 30, left: 50},
    widthT2 = 500 - marginT2.left - marginT2.right,
    heightT2 = 350 - marginT2.top - marginT2.bottom;

// Parse the date / time
var parseDateT2 = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Parse time for tooltip
var formatTimeT2 = d3.time.format("%e %B %I:%M %p");

// Define color scale
var colorT2 = d3.scale.category10();


// Set the ranges
var xT2 = d3.time.scale().range([0, widthT2]);
var yT2 = d3.scale.linear().range([heightT2, 0]);


// Define the axes
var xAxisT2 = d3.svg.axis().scale(xT2)
    .orient("bottom").ticks(5);

var yAxisT2 = d3.svg.axis().scale(yT2)
    .orient("left").ticks(5);

// Define the line
var valuelineT2 = d3.svg.line()
    .x(function(d) { return xT2(d.Time); })
    .y(function(d) { return yT2(d.Temperature); });

// Adds the svg canvas
var svgT2 = d3.select("#tempchart2")
    .append("svg")
        .attr("width", widthT2 + marginT2.left + marginT2.right)
        .attr("height", heightT2 + marginT2.top + marginT2.bottom)
    .append("g")
        .attr("transform",
              "translate(" + marginT2.left + "," + marginT2.top + ")");

//Clinician Alert function
var tempFlag2 = 0;
d3.csv("../static/data/{{pname2}}/vitals/temp.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.Temperature) > 40)
        tempFlag2 = 1;
      if( parseInt(d.Temperature) <= 30)
        tempFlag2 = 1;
    });

});


// Get the data
d3.csv("../static/data/{{pname2}}/vitals/temp.csv", function(error, dataT2) {
    dataT2.forEach(function(d) {
        d.Time = parseDateT2(d.Time);
        d.Temperature = +d.Temperature;

    });

    // Scale the range of the data
    xT2.domain([d3.time.hour.offset(d3.min(dataT2, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataT2, function(d) { return d.Time; }), +1)]);
    yT2.domain([0, d3.max(dataT2, function(d) { return d.Temperature; }) + 20]);

  //Add tooltip
  var tooltipT2 = d3.select("#tempchart2").append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);


    // Add the valueline path.
   /* svgT.append("path")
        .attr("class", "lineT")
    .style("stroke", "#f9520c")
    .style("stroke-width",1)
    .style("fill","none")
    .attr("d", valuelineT(dataT));  */

    // Add the scatterplot for Temperature
    svgT2.selectAll("rect_temp")
        .data(dataT2)
      .enter().append("rect")
    .attr("x", function(d) { return xT2(d.Time)-3.5; })
        .attr("y", function(d) { return yT2(d.Temperature)-3.5; })
    .attr("height",7)
    .attr("width",7)
    .style("fill","#f9520c")
    .on("mouseover", function(d) {
    var xPosT2 = xT2(d.Time);
    var yPosT2 = yT2(d.Temperature);
            tooltipT2.transition()
                .duration(200)
                .style("opacity", .9);
            tooltipT2.html(formatTimeT2(d.Time) + "<br/>"+ "Temperature: "+d.Temperature)
                .style("left", xPosT2 + "px")
                .style("top", yPosT2-360 + "px");
            })
    .on("mouseout", function(d) {
      tooltipT2.transition()
                .duration(500)
                .style("opacity", 0);

        });

  // Add the X Axis
    svgT2.append("g")
        .attr("class", "x axis T")
        .attr("transform", "translate(0," + heightT2 + ")")
        .call(xAxisT2)
    .append("text")
    .attr("class", "label")
    .attr("x", widthT2)
    .attr("y", -6)
    .style("text-anchor", "end")
    .text("Time");

    // Add the Y Axis
    svgT2.append("g")
        .attr("class", "y axis T")
        .call(yAxisT2)
    .append("text")
      .attr("class", "label")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Temperature (C)");

// Applying legend
var legendRectSize = 18;
var legendSpacing = 4;
var legendData = ["Temperature"]
var legend = svgT2.selectAll('.legend')
        .data(legendData)
        .enter()
        .append('g')
        .attr('class', 'legend')
        .attr('transform', function(d, i) {
        var height = legendRectSize + legendSpacing;
        var offset =  height * 1;
        var horz = legendRectSize + 10;
        var vert = i * height - offset + 40;
        return 'translate(' + horz + ',' + vert + ')';
        });

    legend.append("rect")
    .attr("height",7)
    .attr("width",7)
    .style("fill","#f9520c");

    legend.append('text')
    .attr('x', 15)
    .attr('y', 4)
    .text(function(d) { return d; });

});

/* Temperature chart 2 end*/

/* Respiration chart*/

// Set the dimensions of the canvas / graph
var marginR = {top: 30, right: 20, bottom: 30, left: 50},
    widthR = 500 - marginR.left - marginR.right,
    heightR = 350 - marginR.top - marginR.bottom;

// Parse the date / time
var parseDateR = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Set the ranges
var xR = d3.time.scale().range([0, widthR]);
var yR = d3.scale.linear().range([heightR, 0]);

// Define the axes
var xAxisR = d3.svg.axis().scale(xR)
    .orient("bottom").ticks(5);
var yAxisR = d3.svg.axis().scale(yR)
    .orient("left").ticks(5);

// Define the line
var valuelineR = d3.svg.line()
    .x(function(d) { return xR(d.Time); })
    .y(function(d) { return yR(d.RespRate); });

// Adds the svg canvas
var svgR = d3.select("#respchart")
    .append("svg")
        .attr("width", widthR + marginR.left + marginR.right)
        .attr("height", heightR + marginR.top + marginR.bottom)
    .append("g")
        .attr("transform","translate(" + marginR.left + "," + marginR.top + ")");

//Clinician Alert function
var repFlag = 0;
d3.csv("../static/data/{{pname1}}/vitals/respRate.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.RespRate) > 30)
        repFlag = 1;
      if( parseInt(d.RespRate) <= 19)
        repFlag = 1;
    });
    
});

// Get the data
d3.csv("../static/data/{{pname1}}/vitals/respRate.csv", function(error, dataR) {
    dataR.forEach(function(d) {
        d.Time = parseDateR(d.Time);
        d.RespRate = +d.RespRate;
    });
// Scale the range of the data
xR.domain([d3.time.hour.offset(d3.min(dataR, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataR, function(d) { return d.Time; }), +1)]);
yR.domain([0, d3.max(dataR, function(d) { return d.RespRate; })+5]);

// Add the valueline path.
svgR.append("path")
  .attr("class", "lineR")
  .style("stroke", "#f9520c")
  .style("stroke-width",1)
  .style("fill","none")
  .attr("d", valuelineR(dataR));

// Add the X Axis
svgR.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + heightR + ")")
  .call(xAxisR)
  .append("text")
  .attr("class", "label")
  .attr("x", widthR)
  .attr("y", -6)
  .style("text-anchor", "end")
  .text("Time");

// Add the Y Axis
svgR.append("g")
  .attr("class", "y axis")
  .call(yAxisR)
.append("text")
  .attr("class", "label")
  .attr("transform", "rotate(-90)")
  .attr("y", 6)
  .attr("dy", ".71em")
  .style("text-anchor", "end")
  .text("Respiration rate");

});
/* Respiration chart end */


/* Respiration chart 2 */

// Set the dimensions of the canvas / graph
var marginR2 = {top: 30, right: 20, bottom: 30, left: 50},
    widthR2 = 500 - marginR2.left - marginR2.right,
    heightR2 = 350 - marginR2.top - marginR2.bottom;

// Parse the date / time
var parseDateR2 = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Set the ranges
var xR2 = d3.time.scale().range([0, widthR2]);
var yR2 = d3.scale.linear().range([heightR2, 0]);

// Define the axes
var xAxisR2 = d3.svg.axis().scale(xR2)
    .orient("bottom").ticks(5);
var yAxisR2 = d3.svg.axis().scale(yR2)
    .orient("left").ticks(5);

// Define the line
var valuelineR2 = d3.svg.line()
    .x(function(d) { return xR2(d.Time); })
    .y(function(d) { return yR2(d.RespRate); });

// Adds the svg canvas
var svgR2 = d3.select("#respchart2")
    .append("svg")
        .attr("width", widthR2 + marginR2.left + marginR2.right)
        .attr("height", heightR2 + marginR2.top + marginR2.bottom)
    .append("g")
        .attr("transform","translate(" + marginR2.left + "," + marginR2.top + ")");

//Clinician Alert function
var repFlag2 = 0;
d3.csv("../static/data/{{pname2}}/vitals/respRate.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.RespRate) > 30)
        repFlag2 = 1;
      if( parseInt(d.RespRate) <= 19)
        repFlag2 = 1;
    });
    
});

// Get the data
d3.csv("../static/data/{{pname2}}/vitals/respRate.csv", function(error, dataR2) {
    dataR2.forEach(function(d) {
        d.Time = parseDateR2(d.Time);
        d.RespRate = +d.RespRate;
    });
// Scale the range of the data
xR2.domain([d3.time.hour.offset(d3.min(dataR2, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataR2, function(d) { return d.Time; }), +1)]);
yR2.domain([0, d3.max(dataR2, function(d) { return d.RespRate; })+5]);

// Add the valueline path.
svgR2.append("path")
  .attr("class", "lineR")
  .style("stroke", "#f9520c")
  .style("stroke-width",1)
  .style("fill","none")
  .attr("d", valuelineR2(dataR2));

// Add the X Axis
svgR2.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + heightR2 + ")")
  .call(xAxisR2)
  .append("text")
  .attr("class", "label")
  .attr("x", widthR2)
  .attr("y", -6)
  .style("text-anchor", "end")
  .text("Time");

// Add the Y Axis
svgR2.append("g")
  .attr("class", "y axis")
  .call(yAxisR2)
.append("text")
  .attr("class", "label")
  .attr("transform", "rotate(-90)")
  .attr("y", 6)
  .attr("dy", ".71em")
  .style("text-anchor", "end")
  .text("Respiration rate");

});
/* Respiration chart end */
/* ################################# */

/* Pulse chart */
// Set the dimensions of the canvas / graph
var marginP = {top: 30, right: 20, bottom: 30, left: 50},
    widthP = 500 - marginP.left - marginP.right,
    heightP = 350 - marginP.top - marginP.bottom;
// Parse the date / time
var parseDateP = d3.time.format("%d-%b-%y %I:%M%p").parse;

//Get the Amount of alerts for tooltip
var bisectDate = d3.bisector(function(d) {
  return d.Time;
}).left;

// Set the ranges
var xP = d3.time.scale().range([0, widthP]);
var yP = d3.scale.linear().range([heightP, 0]);
// Define the axes
var xAxisP = d3.svg.axis().scale(xP)
    .orient("bottom").ticks(5);
var yAxisP = d3.svg.axis().scale(yP)
    .orient("left").ticks(5);

// Define area curve
var valuelineP = d3.svg.line()
    .x(function(d) { return xP(d.Time); })
    .y(function(d) { return yP(d.PulseRate); });

// Adds the svg canvas
var svgP = d3.select("#pulsechart")
    .append("svg")
        .attr("width", widthP + marginP.left + marginP.right)
        .attr("height", heightP + marginP.top + marginP.bottom)
    .append("g")
        .attr("transform","translate(" + marginP.left + "," + marginP.top + ")");
//Clinician Alert function
var pulseFlag = 0;
d3.csv("../static/data/{{pname1}}/vitals/pulse.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.PulseRate) > 81)
        pulseFlag = 1;
      if( parseInt(d.PulseRate) <= 71)
        pulseFlag = 1;
    });
    
});

// Get the data
d3.csv("../static/data/{{pname1}}/vitals/pulse.csv", function(error, dataP) {
  if (error) throw error;
    dataP.forEach(function(d) {
        d.Time = parseDateP(d.Time);
        d.PulseRate = +d.PulseRate;
    });

 // Sort the data or bisect() won't work right
      dataP.sort(function(a, b) {return a.Time - b.Time;});
// Scale the range of the data
//xP.domain([d3.time.hour.offset(d3.min(dataP, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataP, function(d) { return d.Time; }), +1)]);
xP.domain([d3.min(dataP, function(d) { return d.Time; }), d3.max(dataP, function(d) { return d.Time; })]);
yP.domain([0, d3.max(dataP, function(d) { return d.PulseRate; })+20]);

// Add the valueline path.
svgP.append("path")
  .attr("class", "lineO")
  .style("stroke", "#c0c225")
  .style("stroke-width",1)
  .style("fill","none")
  .attr("d", valuelineP(dataP));

// Add the X Axis
svgP.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + heightP + ")")
  .call(xAxisP)
  .append("text")
  .attr("class", "label")
  .attr("x", widthP)
  .attr("y", -6)
  .style("text-anchor", "end")
  .text("Time");

// Add the Y Axis
svgP.append("g")
  .attr("class", "y axis")
  .call(yAxisP)
.append("text")
  .attr("class", "label")
  .attr("transform", "rotate(-90)")
  .attr("y", 6)
  .attr("dy", ".71em")
  .style("text-anchor", "end")
  .text("Pulse rate");

// Tooltip
/*
var focus = svgP.append("g")
      .attr("class", "focus")
      .style("display", "none");
  focus.append("circle")
                .attr("r", 4.5);
  focus.append("text")
                .attr("x", 9)
                .attr("dy", ".35em");
  svgP.append("rect")
                .attr("class", "overlay")
                .attr("width", widthP)
                .attr("height", heightP)
                .on("mouseover", function() {

                    focus.style("display", null);
                })
                .on("mouseout", function() {
                    focus.style("display", "none");
                })
                .on("mousemove", mousemove);

  function mousemove() {
                var x0 = xP.invert(event.pageX),
                    i = bisectDate(dataP, x0, 1),
                    d0 = dataP[i - 1],
                   d1 = dataP[i-],
                   d = x0 - xP(d0.Time) > xP(d1.Time) - x0 ? d1 : d0;
        console.log(d);
        console.log(xP(d.Time) + "," + yP(d.PulseRate) + " - "+ event.clientX);
                focus.attr("transform", "translate(" + xP(d.Time) + "," + yP(d.PulseRate) + ")");
                focus.select("text").text((d.PulseRate) + ' at ' + parseDateP(d.Time));
            }

  */
});

/* Pulse chart end */

/* Pulse chart 2 */
// Set the dimensions of the canvas / graph
var marginP2 = {top: 30, right: 20, bottom: 30, left: 50},
    widthP2 = 500 - marginP2.left - marginP2.right,
    heightP2 = 350 - marginP2.top - marginP2.bottom;
// Parse the date / time
var parseDateP2 = d3.time.format("%d-%b-%y %I:%M%p").parse;

//Get the Amount of alerts for tooltip
var bisectDate = d3.bisector(function(d) {
  return d.Time;
}).left;

// Set the ranges
var xP2 = d3.time.scale().range([0, widthP2]);
var yP2 = d3.scale.linear().range([heightP2, 0]);
// Define the axes
var xAxisP2 = d3.svg.axis().scale(xP2)
    .orient("bottom").ticks(5);
var yAxisP2 = d3.svg.axis().scale(yP2)
    .orient("left").ticks(5);

// Define area curve
var valuelineP2 = d3.svg.line()
    .x(function(d) { return xP2(d.Time); })
    .y(function(d) { return yP2(d.PulseRate); });

// Adds the svg canvas
var svgP2 = d3.select("#pulsechart2")
    .append("svg")
        .attr("width", widthP2 + marginP2.left + marginP2.right)
        .attr("height", heightP2 + marginP2.top + marginP2.bottom)
    .append("g")
        .attr("transform","translate(" + marginP2.left + "," + marginP2.top + ")");

//Clinician Alert function
var pulseFlag2 = 0;
d3.csv("../static/data/{{pname2}}/vitals/pulse.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.PulseRate) > 81)
        pulseFlag2 = 1;
      if( parseInt(d.PulseRate) <= 71)
        pulseFlag2 = 1;
    });
    
});

// Get the data
d3.csv("../static/data/{{pname2}}/vitals/pulse.csv", function(error, dataP2) {
  if (error) throw error;
    dataP2.forEach(function(d) {
        d.Time = parseDateP2(d.Time);
        d.PulseRate = +d.PulseRate;
    });

 // Sort the data or bisect() won't work right
      dataP2.sort(function(a, b) {return a.Time - b.Time;});
// Scale the range of the data
//xP.domain([d3.time.hour.offset(d3.min(dataP, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataP, function(d) { return d.Time; }), +1)]);
xP2.domain([d3.min(dataP2, function(d) { return d.Time; }), d3.max(dataP2, function(d) { return d.Time; })]);
yP2.domain([0, d3.max(dataP2, function(d) { return d.PulseRate; })+20]);

// Add the valueline path.
svgP2.append("path")
  .attr("class", "lineO")
  .style("stroke", "#c0c225")
  .style("stroke-width",1)
  .style("fill","none")
  .attr("d", valuelineP2(dataP2));

// Add the X Axis
svgP2.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + heightP2 + ")")
  .call(xAxisP2)
  .append("text")
  .attr("class", "label")
  .attr("x", widthP2)
  .attr("y", -6)
  .style("text-anchor", "end")
  .text("Time");

// Add the Y Axis
svgP2.append("g")
  .attr("class", "y axis")
  .call(yAxisP2)
.append("text")
  .attr("class", "label")
  .attr("transform", "rotate(-90)")
  .attr("y", 6)
  .attr("dy", ".71em")
  .style("text-anchor", "end")
  .text("Pulse rate");

// Tooltip
/*
var focus = svgP.append("g")
      .attr("class", "focus")
      .style("display", "none");
  focus.append("circle")
                .attr("r", 4.5);
  focus.append("text")
                .attr("x", 9)
                .attr("dy", ".35em");
  svgP.append("rect")
                .attr("class", "overlay")
                .attr("width", widthP)
                .attr("height", heightP)
                .on("mouseover", function() {

                    focus.style("display", null);
                })
                .on("mouseout", function() {
                    focus.style("display", "none");
                })
                .on("mousemove", mousemove);

  function mousemove() {
                var x0 = xP.invert(event.pageX),
                    i = bisectDate(dataP, x0, 1),
                    d0 = dataP[i - 1],
                   d1 = dataP[i-],
                   d = x0 - xP(d0.Time) > xP(d1.Time) - x0 ? d1 : d0;
        console.log(d);
        console.log(xP(d.Time) + "," + yP(d.PulseRate) + " - "+ event.clientX);
                focus.attr("transform", "translate(" + xP(d.Time) + "," + yP(d.PulseRate) + ")");
                focus.select("text").text((d.PulseRate) + ' at ' + parseDateP(d.Time));
            }

  */
});

/* Pulse chart end */
/* ################################# */

/* Pulse Oximetry chart*/
// Set the dimensions of the canvas / graph
var marginO = {top: 30, right: 20, bottom: 30, left: 50},
    widthO = 500 - marginO.left - marginO.right,
    heightO = 350 - marginO.top - marginO.bottom;
// Parse the date / time
var parseDateO = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Set the ranges
var xO = d3.time.scale().range([0, widthO]);
var yO = d3.scale.linear().range([heightO, 0]);
// Define the axes
var xAxisO = d3.svg.axis().scale(xO)
    .orient("bottom").ticks(5);
var yAxisO = d3.svg.axis().scale(yO)
    .orient("left").ticks(5);

// Define the line
var valuelineO = d3.svg.line()
    .x(function(d) { return xO(d.Time); })
    .y(function(d) { return yO(d.PulseOx); });
// Adds the svg canvas
var svgO = d3.select("#poxchart")
    .append("svg")
        .attr("width", widthO + marginO.left + marginO.right)
        .attr("height", heightO + marginO.top + marginO.bottom)
    .append("g")
        .attr("transform","translate(" + marginO.left + "," + marginO.top + ")");
//Clinician Alert function
var poxFlag = 0;
var alerMessage = [];
d3.csv("../static/data/{{pname1}}/vitals/pulseox.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.PulseOx) > 85)
        poxFlag = 1;
      if( parseInt(d.PulseOx) <= 70)
        poxFlag = 1;
    });

    if (sbpFlag == 1) 
      alerMessage.push("SystolicBP");
    if (dbpFlag == 1)
      alerMessage.push("DiastolicBP");
    if (tempFlag == 1)
      alerMessage.push("Temperature");
    if (repFlag == 1)
      alerMessage.push("Respiration");
    if (pulseFlag == 1)
      alerMessage.push("Pulse");
    if (poxFlag == 1)
      alerMessage.push("Pulse Oximetry");

    alert("Need attention on below Vitals for Patient 1:" + "\n"+alerMessage);
});



// Get the data
d3.csv("../static/data/{{pname1}}/vitals/pulseox.csv", function(error, dataO) {
    dataO.forEach(function(d) {
        d.Time = parseDateO(d.Time);
        d.PulseOx = +d.PulseOx;
    });
// Scale the range of the data
xO.domain([d3.time.hour.offset(d3.min(dataO, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataO, function(d) { return d.Time; }), +1)]);
yO.domain([0, 100]);

// Add the valueline path.
svgO.append("path")
  .attr("class", "lineO")
  .style("stroke", "#e9d500")
  .style("stroke-width",1)
  .style("fill","none")
  .attr("d", valuelineO(dataO));

// Add the X Axis
svgO.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + heightO + ")")
  .call(xAxisO)
  .append("text")
  .attr("class", "label")
  .attr("x", widthO)
  .attr("y", -6)
  .style("text-anchor", "end")
  .text("Time");

// Add the Y Axis
svgO.append("g")
  .attr("class", "y axis")
  .call(yAxisO)
.append("text")
  .attr("class", "label")
  .attr("transform", "rotate(-90)")
  .attr("y", 6)
  .attr("dy", ".71em")
  .style("text-anchor", "end")
  .text("Pulse Oximetry %");

});

/* Pulse Oximetry chart end */

/* Pulse Oximetry chart 2 */
// Set the dimensions of the canvas / graph
var marginO2 = {top: 30, right: 20, bottom: 30, left: 50},
    widthO2 = 500 - marginO2.left - marginO2.right,
    heightO2 = 350 - marginO2.top - marginO2.bottom;
// Parse the date / time
var parseDateO2 = d3.time.format("%d-%b-%y %I:%M%p").parse;

// Set the ranges
var xO2 = d3.time.scale().range([0, widthO2]);
var yO2 = d3.scale.linear().range([heightO2, 0]);
// Define the axes
var xAxisO2 = d3.svg.axis().scale(xO2)
    .orient("bottom").ticks(5);
var yAxisO2 = d3.svg.axis().scale(yO2)
    .orient("left").ticks(5);

// Define the line
var valuelineO2 = d3.svg.line()
    .x(function(d) { return xO2(d.Time); })
    .y(function(d) { return yO2(d.PulseOx); });
// Adds the svg canvas
var svgO2 = d3.select("#poxchart2")
    .append("svg")
        .attr("width", widthO2 + marginO2.left + marginO2.right)
        .attr("height", heightO2 + marginO2.top + marginO2.bottom)
    .append("g")
        .attr("transform","translate(" + marginO2.left + "," + marginO2.top + ")");

//Clinician Alert function
var poxFlag2 = 0;
var alerMessage2 = [];
d3.csv("../static/data/{{pname2}}/vitals/pulseox.csv", function(error, data) {

data.forEach(function(d){
      if( parseInt(d.PulseOx) > 85)
        poxFlag2 = 1;
      if( parseInt(d.PulseOx) <= 70)
        poxFlag2 = 1;
    });

    if (sbpFlag2 == 1) 
      alerMessage2.push("SystolicBP");
    if (dbpFlag2 == 1)
      alerMessage2.push("DiastolicBP");
    if (tempFlag2 == 1)
      alerMessage2.push("Temperature");
    if (repFlag2 == 1)
      alerMessage.push("Respiration");
    if (pulseFlag2 == 1)
      alerMessage2.push("Pulse");
    if (poxFlag2 == 1)
      alerMessage2.push("Pulse Oximetry");

    alert("Need attention on below Vitals for Patient 2:" + "\n"+alerMessage2);
});


// Get the data
d3.csv("../static/data/{{pname2}}/vitals/pulseox.csv", function(error, dataO2) {
    dataO2.forEach(function(d) {
        d.Time = parseDateO2(d.Time);
        d.PulseOx = +d.PulseOx;
    });
// Scale the range of the data
xO2.domain([d3.time.hour.offset(d3.min(dataO2, function(d) { return d.Time; }), -1), d3.time.hour.offset(d3.max(dataO2, function(d) { return d.Time; }), +1)]);
yO2.domain([0, 100]);

// Add the valueline path.
svgO2.append("path")
  .attr("class", "lineO")
  .style("stroke", "#e9d500")
  .style("stroke-width",1)
  .style("fill","none")
  .attr("d", valuelineO2(dataO2));

// Add the X Axis
svgO2.append("g")
  .attr("class", "x axis")
  .attr("transform", "translate(0," + heightO2 + ")")
  .call(xAxisO2)
  .append("text")
  .attr("class", "label")
  .attr("x", widthO2)
  .attr("y", -6)
  .style("text-anchor", "end")
  .text("Time");

// Add the Y Axis
svgO2.append("g")
  .attr("class", "y axis")
  .call(yAxisO2)
.append("text")
  .attr("class", "label")
  .attr("transform", "rotate(-90)")
  .attr("y", 6)
  .attr("dy", ".71em")
  .style("text-anchor", "end")
  .text("Pulse Oximetry %");

});

/* Pulse Oximetry chart 2end */
</script>
{% include 'footer.html' %}

